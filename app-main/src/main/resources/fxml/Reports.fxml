<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.geometry.*?>

<ScrollPane xmlns="http://javafx.com/javafx/21"
            xmlns:fx="http://javafx.com/fxml"
            fx:controller="com.kiranastore.controller.ReportsController"
            fitToWidth="true">

    <VBox spacing="20" style="-fx-padding: 20;">
        <Label text="Sales Reports &amp; Analytics"
               style="-fx-font-size: 24; -fx-font-weight: bold;"/>

        <!-- Date Range Filter -->
        <HBox spacing="10"
              style="-fx-padding: 15; -fx-background-color: white; -fx-border-color: #bdc3c7; -fx-border-radius: 5;">
            <Label text="From:" style="-fx-text-fill: #7f8c8d;"/>
            <DatePicker fx:id="startDatePicker"/>

            <Label text="To:" style="-fx-text-fill: #7f8c8d;"/>
            <DatePicker fx:id="endDatePicker"/>

            <Button fx:id="generateReportBtn" text="Generate Report" style="-fx-padding: 8;"/>
            <Region HBox.hgrow="ALWAYS"/>
        </HBox>

        <!-- Summary Statistics -->
        <GridPane hgap="20" vgap="20">
            <columnConstraints>
                <ColumnConstraints percentWidth="25"/>
                <ColumnConstraints percentWidth="25"/>
                <ColumnConstraints percentWidth="25"/>
                <ColumnConstraints percentWidth="25"/>
            </columnConstraints>

            <VBox style="-fx-border-color: #bdc3c7; -fx-border-radius: 5; -fx-padding: 20; -fx-background-color: white;"
                  GridPane.columnIndex="0" GridPane.rowIndex="0">
                <Label text="Total Sales" style="-fx-text-fill: #7f8c8d; -fx-font-size: 12;"/>
                <Label fx:id="totalSalesLabel" text="Rs. 0.00"
                       style="-fx-font-size: 20; -fx-font-weight: bold; -fx-text-fill: #2980b9;"/>
            </VBox>

            <VBox style="-fx-border-color: #bdc3c7; -fx-border-radius: 5; -fx-padding: 20; -fx-background-color: white;"
                  GridPane.columnIndex="1" GridPane.rowIndex="0">
                <Label text="Total Profit" style="-fx-text-fill: #7f8c8d; -fx-font-size: 12;"/>
                <Label fx:id="totalProfitLabel" text="Rs. 0.00"
                       style="-fx-font-size: 20; -fx-font-weight: bold; -fx-text-fill: #27ae60;"/>
            </VBox>

            <VBox style="-fx-border-color: #bdc3c7; -fx-border-radius: 5; -fx-padding: 20; -fx-background-color: white;"
                  GridPane.columnIndex="2" GridPane.rowIndex="0">
                <Label text="Transactions" style="-fx-text-fill: #7f8c8d; -fx-font-size: 12;"/>
                <Label fx:id="transactionCountLabel" text="0"
                       style="-fx-font-size: 20; -fx-font-weight: bold; -fx-text-fill: #e74c3c;"/>
            </VBox>

            <VBox style="-fx-border-color: #bdc3c7; -fx-border-radius: 5; -fx-padding: 20; -fx-background-color: white;"
                  GridPane.columnIndex="3" GridPane.rowIndex="0">
                <Label text="Profit Margin" style="-fx-text-fill: #7f8c8d; -fx-font-size: 12;"/>
                <Label fx:id="profitMarginLabel" text="0.00%"
                       style="-fx-font-size: 20; -fx-font-weight: bold; -fx-text-fill: #f39c12;"/>
            </VBox>
        </GridPane>

        <!-- Charts Section -->
        <VBox fx:id="chartsContainer" spacing="20"
              style="-fx-padding: 20; -fx-background-color: white; -fx-border-color: #bdc3c7; -fx-border-radius: 5;"/>

        <!-- Reports Table -->
        <VBox spacing="10"
              style="-fx-padding: 15; -fx-background-color: white; -fx-border-color: #bdc3c7; -fx-border-radius: 5;">
            <Label text="Daily Report Details" style="-fx-font-size: 14; -fx-font-weight: bold;"/>

            <TableView fx:id="reportsTable" prefHeight="300">
                <columns>
                    <TableColumn fx:id="dateColumn" text="Date" prefWidth="100"/>
                    <TableColumn fx:id="salesColumn" text="Total Sales" prefWidth="150"/>
                    <TableColumn fx:id="profitColumn" text="Total Profit" prefWidth="150"/>
                    <TableColumn fx:id="transactionsColumn" text="Transactions" prefWidth="150"/>
                </columns>
            </TableView>
        </VBox>
    </VBox>
</ScrollPane>
